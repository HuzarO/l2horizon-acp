{% extends 'layouts/base-auth.html' %}
{% load static i18n %}

{% block extrastyle %}{% endblock extrastyle %}

{% block content %}
<div class="min-h-screen flex items-center justify-center py-8 px-4 sm:px-6 lg:px-8">
  <div class="w-full max-w-xl">
    <div class="auth-panel p-6 sm:p-10">
      <div class="text-center mb-8">
        <h1 class="text-3xl font-bold text-gray-800">{% trans "Ativar Autenticação em 2 Etapas" %}</h1>
        <p class="mt-2 text-sm text-gray-600">{% trans "Escaneie o QR Code abaixo com o Google Authenticator ou similar." %}</p>
      </div>

      <div class="flex justify-center mb-6">
        <img src="data:image/png;base64,{{ qr_png }}" alt="QR Code" class="border-4 border-gray-200 rounded-lg shadow-md">
      </div>

      <form method="post" class="space-y-6">
        {% csrf_token %}
        <div>
          <label for="token" class="block text-sm font-medium text-gray-700 mb-2">{% trans "Digite o código do aplicativo" %}</label>
          <input type="text" name="token" id="token" required 
            class="w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent text-center text-2xl tracking-widest font-mono">
        </div>

        <div>
          <button type="submit" class="w-full btn-medieval">{% trans "Ativar 2FA" %}</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
